################################################################################
# @svaksha <3 devilish dotfile daemons : http://svaksha.github.io/5vaksha
# Author: SVAKSHA, 2010AUG11 || UPDATED: 2015APR27
# COPYRIGHT Â© 2007-Now [SVAKSHA](http://svaksha.com/pages/Bio) All Rights Reserved.
# LICENSE :: [GNU AGPLv3](http://www.gnu.org/licenses/agpl-3.0.html) or later version.
# Permission is hereby granted, free of charge, to any person obtaining a copy 
# of this software and associated documentation files (the "Software"), to deal 
# in the Software without restriction, including without limitation the rights 
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell 
# copies of the Software, and to permit persons to whom the Software is 
# furnished to do so, subject to the following conditions: ALL copies of this 
# work and repository forks must retain the Copyright, LICENSE(.md) notice and 
# this permission notice in substantial portions of the software. 
# See the [LICENSE.md](https://github.com/svaksha/5vaksha/blob/master/LICENSE.md) file.
################################################################################
# Configuration file for tig
# Tig is an ncurses-based text-mode interface for git.
# http://jonas.nitro.dk/tig/
# https://github.com/jonas/tig
###############################################################################

# enable mouse support
set mouse = true

# Variables {{{

set horizontal-scroll = 33%
set line-graphics = yes

# }}}
# Views {{{

set blame-view	= date:default author:full file-name:auto id:yes,color line-number:no,interval=5 text
set grep-view	= file-name:no line-number:yes,interval=1 text
# Main view column settings.
set main-view = line-number:yes,interval=5 id:yes date:default author:full commit-title:yes,graph,refs,overflow=no
set refs-view	= date:default author:full ref commit-title
set stash-view	= line-number:no,interval=5 id:no date:default author:full commit-title
set status-view	= line-number:no,interval=5 status:short file-name
set tree-view	= line-number:no,interval=5 mode author:full file-size date:default id:no file-name

# }}}
# Colors {{{
color cursor white black
color status white default
color title-focus white black
color date yellow default
color author green default
color main-head magenta default
color main-tag magenta default
color stat-staged green default
color stat-unstaged red default
color stat-untracked yellow default
color tree.header white default
color tree.directory cyan default
# }}}
# Bindings {{{

# Generic {{{

bind generic F !git fetch
bind generic Y !@csh -c "echo -n %(commit) | pbcopy"

# }}}
# Main {{{

bind main ! !git revert %(commit)
bind main C !?git checkout %(commit)
bind main H !?git reset --hard %(commit)
bind main R !git rebase -i --autosquash %(commit)^
bind main P !git cherry-pick %(commit)
bind main F !@sh -c "git show %(commit) --pretty=format: --name-only | xargs | xsel -ib"
bind main E !<sh -c "vim -c 'Gedit %(commit)' $(ls | head -1)"
bind main V !<sh -c "vim $(git show %(commit) --pretty=format: --name-only | xargs)"

# }}}
# Diff {{{

bind diff <Up> move-up
bind diff <Down> move-down

# Edit all files of commit
bind diff A !git add %(file)              # Add current file
bind diff C !git commit -av               # Add and commit
bind diff P !git add -p %(file)           # Partially add current file
bind diff F !@sh -c "git show %(commit) --pretty=format: --name-only | xargs | xsel -ib"
bind diff E !<sh -c "vim -c 'Gedit %(commit)' $(ls | head -1)"
bind diff V !<sh -c "vim $(git show %(commit) --pretty=format: --name-only | xargs)"

# }}}
# Tree {{{

bind tree V !vim %(file)

# }}}
# Branch {{{

bind branch N !@git branch %(prompt)
bind branch C !@git co %(branch)
bind branch R !@git rebase
bind branch D !@git branch -D %(branch)

# }}}
# Status {{{

bind status R !@git reset HEAD %(file)
bind status A !@git commit --amend
bind status N !@git add -N %(file)

# }}}
# Stage {{{

bind stage 1 stage-update-line # Stage a single line
bind stage C !@git commit # Commit staging changes

# }}}

# }}}

